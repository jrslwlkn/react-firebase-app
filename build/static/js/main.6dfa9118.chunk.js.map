{"version":3,"sources":["firebase.js","components/Post.jsx","components/AddPost.jsx","utils.js","providers/PostsProvider.jsx","providers/UserProvider.jsx","components/Posts.jsx","components/CurrentUser.jsx","components/SignIn.jsx","components/SignUp.jsx","components/SignInAndSignUp.jsx","components/Auth.jsx","components/UserProfile.jsx","components/Comment.jsx","components/AddComment.jsx","components/Comments.jsx","components/PostPage.jsx","components/withUser.jsx","index.js","components/Application.jsx"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","window","createUserProfileDoc","user","data","a","userRef","firestore","doc","uid","get","exists","createdAt","Date","displayName","email","photoURL","set","console","warn","getUserDoc","collection","auth","provider","GoogleAuthProvider","storage","googleSignIn","signInWithPopup","catch","signOut","Post","props","id","title","content","stars","comments","currentUser","postRef","className","Link","to","role","aria-label","moment","toDate","calendar","onClick","update","delete","AddPost","Component","state","handleChange","event","target","name","value","this","setState","handleSubmit","preventDefault","post","favorites","log","add","render","onSubmit","type","placeholder","onChange","getDocsStuff","d","PostsContext","createContext","PostsProvider","posts","firestoreUnsubscribe","componentDidMount","onSnapshot","s","docs","map","componentWillUnmount","children","Provider","UserContext","UserProvider","authUnsubscribe","onAuthStateChanged","u","snapshot","Posts","useContext","key","CurrentUser","src","alt","SignIn","password","SignUp","createUserWithEmailAndPassword","disabled","SignInAndSignUp","Auth","UserProfile","image","e","file","ref","child","put","then","res","getDownloadURL","files","r","Comment","AddComment","onCreate","Comments","comment","PostPage","postUnsubscribe","commentsUnsubscribe","commentsRef","createComment","match","params","postID","withRouter","WrappedComponent","Consumer","getDisplayName","withUser","Switch","Route","exact","path","component","document","getElementById"],"mappings":"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","file":"static/js/main.6dfa9118.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport 'firebase/storage';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAW6A-d0RbqdqAFa-oRIrQ7m3GFhgzVxeU\",\n  authDomain: \"react-firebase-app-a05a4.firebaseapp.com\",\n  databaseURL: \"https://react-firebase-app-a05a4.firebaseio.com\",\n  projectId: \"react-firebase-app-a05a4\",\n  storageBucket: \"react-firebase-app-a05a4.appspot.com\",\n  messagingSenderId: \"857620419922\",\n  appId: \"1:857620419922:web:a188d33eebf6bad759168b\",\n  measurementId: \"G-CBYJMGYKXE\"\n};\n\nfirebase.initializeApp(firebaseConfig);\n\n// will remove later\nwindow.firebase = firebase;\n\nexport const createUserProfileDoc = async (user, data) => {\n  if (!user) return;\n\n  const userRef = firestore.doc(`users/${user.uid}`);\n  const snapshot = await userRef.get();\n  if (!snapshot.exists) {\n    const createdAt = new Date();\n    const {displayName, email, photoURL} = user;\n    try {\n      await userRef.set({displayName, email, photoURL, createdAt, ...data})\n    } catch (err) {\n      console.warn(err);\n    }\n  }\n\n  return getUserDoc(user.uid);\n}\n\nexport const getUserDoc = async uid => {\n  if (!uid) return null;\n\n  try {\n    return firestore.collection('users').doc(uid);\n  } catch (err) {\n    console.warn(err);\n  }\n}\n\nexport const firestore = firebase.firestore();\nexport const auth = firebase.auth();\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const storage = firebase.storage();\n\nexport const googleSignIn = () => auth.signInWithPopup(provider).catch(console.warn);\nexport const signOut = () => auth.signOut();\n\nexport default firebase;\n","import React from 'react';\nimport { firestore, auth } from '../firebase';\nimport moment from 'moment';\nimport { Link } from 'react-router-dom';\n\nconst Post = props => {\n  const { id, title, content, user, createdAt, stars, comments } = props;\n  const { currentUser } = auth;\n\n  const postRef = firestore.doc(`posts/${id}`);\n\n  const remove = () => postRef.delete();\n\n  const star = () => postRef.update({ stars: stars + 1 });\n\n  return (\n    <article className=\"Post\">\n      <div className=\"Post--content\">\n        <Link to={`posts/${id}`}>\n          <h3>{title}</h3>\n        </Link>\n        <div>{content}</div>\n      </div>\n      <div className=\"Post--meta\">\n        <div>\n          <p>\n            <span role=\"img\" aria-label=\"star\">\n              ⭐️\n            </span>\n            {stars}\n          </p>\n          <p>\n            <span role=\"img\" aria-label=\"comments\">\n              🙊\n            </span>\n            {comments}\n          </p>\n          <p>Posted by {user.displayName}</p>\n          <p>{moment(createdAt.toDate()).calendar()}</p>\n        </div>\n        {currentUser?.uid && (\n          <div className=\"Buttons\">\n            <button className=\"star\" onClick={star}>\n              Star\n            </button>\n            {currentUser.uid === user.uid && (\n              <button className=\"delete\" onClick={remove}>\n                Delete\n              </button>\n            )}\n          </div>\n        )}\n      </div>\n    </article>\n  );\n};\n\nexport default Post;\n","import React, { Component } from 'react';\nimport { firestore, auth } from '../firebase';\n\nclass AddPost extends Component {\n  state = { title: '', content: '' };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    const { title, content } = this.state;\n    const { uid, displayName, email, photoURL } = auth.currentUser;\n\n    const post = {\n      title,\n      content,\n      user: { uid, displayName, email, photoURL },\n      favorites: 0,\n      comments: 0,\n      createdAt: new Date()\n    };\n    console.log(post);\n\n    firestore.collection('posts').add(post);\n    this.setState({ title: '', content: '' });\n  };\n\n  render() {\n    const { title, content } = this.state;\n    return (\n      <form onSubmit={this.handleSubmit} className=\"AddPost\">\n        <input type=\"text\" name=\"title\" placeholder=\"Title\" value={title} onChange={this.handleChange} />\n        <input type=\"text\" name=\"content\" placeholder=\"Body\" value={content} onChange={this.handleChange} />\n        <input className=\"create\" type=\"submit\" value=\"Create Post\" />\n      </form>\n    );\n  }\n}\n\nexport default AddPost;\n","export const getDocsStuff = d => ({ id: d.id, ...d.data() });\n","import React, { Component, createContext } from 'react';\nimport { firestore } from '../firebase';\nimport { getDocsStuff } from '../utils';\n\nexport const PostsContext = createContext();\n\nexport default class PostsProvider extends Component {\n  state = {\n    posts: []\n  };\n\n  firestoreUnsubscribe = null;\n\n  componentDidMount() {\n    this.firestoreUnsubscribe = firestore.collection('posts').onSnapshot(s => {\n      const posts = s.docs.map(getDocsStuff);\n      this.setState({ posts });\n    });\n  }\n\n  componentWillUnmount() {\n    this.firestoreUnsubscribe();\n  }\n\n  render() {\n    const { posts } = this.state;\n    const { children } = this.props;\n    return <PostsContext.Provider value={posts}>{children}</PostsContext.Provider>;\n  }\n}\n","import React, { Component, createContext } from 'react';\nimport { auth, createUserProfileDoc } from '../firebase';\n\nexport const UserContext = createContext();\n\nexport default class UserProvider extends Component {\n  state = {\n    user: null\n  };\n\n  authUnsubscribe = null;\n\n  componentDidMount() {\n    this.authUnsubscribe = auth.onAuthStateChanged(async u => {\n      if (u) {\n        const userRef = await createUserProfileDoc(u);\n        userRef.onSnapshot(snapshot => {\n          this.setState({ user: { uid: snapshot.id, ...snapshot.data() } });\n        });\n      }\n      this.setState({ user: u });\n    });\n  }\n\n  componentWillUnmount() {\n    this.authUnsubscribe();\n  }\n\n  render() {\n    const { user } = this.state;\n    const { children } = this.props;\n    return <UserContext.Provider value={user}>{children}</UserContext.Provider>;\n  }\n}\n","import React, { useContext } from 'react';\nimport Post from './Post';\nimport AddPost from './AddPost';\nimport { PostsContext } from '../providers/PostsProvider';\nimport { UserContext } from '../providers/UserProvider';\n\nconst Posts = () => {\n  const posts = useContext(PostsContext);\n  const user = useContext(UserContext);\n\n  return (\n    <section className=\"Posts\">\n      {user?.uid && <AddPost />}\n      {posts.map(post => (\n        <Post {...post} key={post.id} />\n      ))}\n    </section>\n  );\n};\n\nexport default Posts;\n","import React from 'react';\nimport moment from 'moment';\n\nimport { signOut } from '../firebase';\nimport { Link } from 'react-router-dom';\n\nconst CurrentUser = ({ displayName, photoURL, email, createdAt, children }) => {\n  return (\n    <section className=\"UserProfile\">\n      <div className=\"UserProfile--profile\">\n        {photoURL && <img src={photoURL} alt={displayName} />}\n        <div className=\"UserProfile--information\">\n          <Link to=\"profile\">\n            <h2>{displayName}</h2>\n          </Link>\n          <p className=\"email\">{email}</p>\n          <p className=\"created-at\">{moment(createdAt ? createdAt.toDate() : new Date()).calendar()}</p>\n        </div>\n      </div>\n      <div>\n        <div>{children}</div>\n        <button onClick={signOut}>Sign Out</button>\n      </div>\n    </section>\n  );\n};\n\nexport default CurrentUser;\n","import React, { Component } from 'react';\nimport { googleSignIn } from '../firebase';\n\nclass SignIn extends Component {\n  state = { email: '', password: '' };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    this.setState({ email: '', password: '' });\n  };\n\n  render() {\n    const { email, password } = this.state;\n\n    return (\n      <form className=\"SignIn\" onSubmit={this.handleSubmit}>\n        <h2>Sign In</h2>\n        <input type=\"email\" name=\"email\" placeholder=\"Email\" value={email} onChange={this.handleChange} />\n        <input type=\"password\" name=\"password\" placeholder=\"Password\" value={password} onChange={this.handleChange} />\n        <input type=\"submit\" value=\"Sign In\" />\n        <button onClick={googleSignIn}>Sign In With Google</button>\n      </form>\n    );\n  }\n}\n\nexport default SignIn;\n","import React, { Component } from 'react';\nimport { auth, createUserProfileDoc } from '../firebase';\n\nclass SignUp extends Component {\n  state = { displayName: '', email: '', password: '' };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = async event => {\n    event.preventDefault();\n    const { displayName, email, password } = this.state;\n\n    try {\n      const { user } = await auth.createUserWithEmailAndPassword(email, password);\n\n      createUserProfileDoc(user, { displayName });\n    } catch (err) {\n      console.warn(err);\n    }\n\n    this.setState({ displayName: '', email: '', password: '' });\n  };\n\n  render() {\n    const { displayName, email, password } = this.state;\n\n    return (\n      <form className=\"SignUp\" onSubmit={this.handleSubmit}>\n        <h2>Sign Up</h2>\n        <input\n          type=\"text\"\n          name=\"displayName\"\n          placeholder=\"Display Name\"\n          value={displayName}\n          onChange={this.handleChange}\n        />\n        <input type=\"email\" name=\"email\" placeholder=\"Email\" value={email} onChange={this.handleChange} />\n        <input type=\"password\" name=\"password\" placeholder=\"Password\" value={password} onChange={this.handleChange} />\n        <input type=\"submit\" value=\"Sign Up\" disabled={!displayName || !email || !password} />\n      </form>\n    );\n  }\n}\n\nexport default SignUp;\n","import React from 'react';\nimport SignIn from './SignIn';\nimport SignUp from './SignUp';\n\nexport default function SignInAndSignUp() {\n  return (\n    <>\n      <SignIn />\n      <SignUp />\n    </>\n  );\n}\n","import React, { useContext } from 'react';\n\nimport { UserContext } from '../providers/UserProvider';\n\nimport CurrentUser from './CurrentUser';\nimport SignInAndSignUp from './SignInAndSignUp';\n\nexport default function Auth() {\n  const user = useContext(UserContext);\n\n  return <div>{user ? <CurrentUser {...user} /> : <SignInAndSignUp />}</div>;\n}\n","import React, { Component } from 'react';\nimport { auth, firestore, storage } from '../firebase';\n\nexport default class UserProfile extends Component {\n  state = {\n    displayName: ''\n  };\n\n  image = null;\n\n  get uid() {\n    return auth.currentUser.uid;\n  }\n\n  get userRef() {\n    return firestore.doc(`users/${this.uid}`);\n  }\n\n  get file() {\n    return this.image && this.image.files[0];\n  }\n\n  handleChange = e => {\n    const { name, value } = e.target;\n\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { displayName } = this.state;\n\n    if (displayName) {\n      this.userRef.update({ displayName });\n      this.setState({ displayName: '' });\n    }\n\n    if (this.file) {\n      storage\n        .ref()\n        .child('user-profiles')\n        .child(this.uid)\n        .child(this.file.name)\n        .put(this.file)\n        .then(res => res.ref.getDownloadURL())\n        .then(photoURL => this.userRef.update({ photoURL }));\n    }\n  };\n\n  render() {\n    const { displayName } = this.state;\n\n    return (\n      <section className=\"UserProfile\">\n        <form onSubmit={this.handleSubmit}>\n          <input\n            type=\"text\"\n            placeholder=\"Display Name\"\n            value={displayName}\n            name=\"displayName\"\n            onChange={this.handleChange}\n          />\n          <input type=\"file\" ref={r => (this.image = r)} />\n          <input type=\"submit\" className=\"create\" />\n        </form>\n      </section>\n    );\n  }\n}\n","import React from 'react';\n\nimport moment from 'moment';\n\nconst Comment = ({ content, user, createdAt }) => {\n  return (\n    <article className=\"Comment\">\n      <span className=\"Comment--author\">{user.displayName}</span>\n      <span className=\"Comment--content\">{content}</span>\n      <span className=\"Comment--timestamp\">{moment(user.createdAt.toDate()).calendar()}</span>\n    </article>\n  );\n};\n\nexport default Comment;\n","import React, { Component } from 'react';\n\nclass AddComment extends Component {\n  state = { content: '' };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    this.props.onCreate(this.state);\n\n    this.setState({ content: '' });\n  };\n\n  render() {\n    const { content } = this.state;\n    return (\n      <form onSubmit={this.handleSubmit} className=\"AddComment\">\n        <input type=\"text\" name=\"content\" placeholder=\"Comment\" value={content} onChange={this.handleChange} />\n        <input className=\"create\" type=\"submit\" value=\"Create Comment\" />\n      </form>\n    );\n  }\n}\n\nexport default AddComment;\n","import React from 'react';\nimport Comment from './Comment';\nimport AddComment from './AddComment';\n\nconst Comments = ({ comments, onCreate }) => {\n  return (\n    <section className=\"Comments\">\n      <AddComment onCreate={onCreate} />\n      {comments.map(comment => (\n        <Comment {...comment} key={comment.id} />\n      ))}\n    </section>\n  );\n};\n\nexport default Comments;\n","import React, { Component } from 'react';\n\nimport Post from './Post';\nimport Comments from './Comments';\n\nimport { getDocsStuff } from '../utils';\nimport { firestore } from '../firebase';\nimport { withRouter } from 'react-router-dom';\nimport withUser from './withUser';\n\nclass PostPage extends Component {\n  state = {\n    post: null,\n    comments: []\n  };\n\n  get postID() {\n    return this.props.match.params.id;\n  }\n\n  get postRef() {\n    return firestore.doc(`posts/${this.postID}`);\n  }\n\n  get commentsRef() {\n    return this.postRef.collection('comments');\n  }\n\n  postUnsubscribe = null;\n  commentsUnsubscribe = null;\n\n  componentDidMount = async () => {\n    this.postUnsubscribe = this.postRef.onSnapshot(snapshot => {\n      const post = getDocsStuff(snapshot);\n      this.setState({ post });\n    });\n\n    this.commentsUnsubscribe = this.commentsRef.onSnapshot(snapshot => {\n      const comments = snapshot.docs.map(getDocsStuff);\n      this.setState({ comments });\n    });\n  };\n\n  componentWillUnmount() {\n    this.postUnsubscribe();\n    this.commentsUnsubscribe();\n  }\n\n  createComment = comment => {\n    const { user } = this.props;\n    this.commentsRef.add({ ...comment, user });\n  };\n\n  render() {\n    const { post, comments } = this.state;\n\n    return (\n      <section>\n        {post && (\n          <>\n            <Post {...post} />\n            <Comments comments={comments} postID={post.id} onCreate={this.createComment} />\n          </>\n        )}\n      </section>\n    );\n  }\n}\n\nexport default withRouter(withUser(PostPage));\n","import React from 'react';\nimport { UserContext } from '../providers/UserProvider';\n\nconst getDisplayName = WrappedComponent => {\n  return WrappedComponent.getDisplayName || WrappedComponent.name || 'Component';\n};\n\nexport default function withUser(Component) {\n  const WrappedComponent = props => {\n    return <UserContext.Consumer>{user => <Component user={user} {...props} />}</UserContext.Consumer>;\n  };\n\n  WrappedComponent.displayName = `withUser(${getDisplayName(WrappedComponent)})`;\n\n  return WrappedComponent;\n}\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport './index.scss';\n\nimport Application from './components/Application';\nimport PostsProvider from './providers/PostsProvider';\nimport UserProvider from './providers/UserProvider';\n\nrender(\n  <Router>\n    <UserProvider>\n      <PostsProvider>\n        <Application />\n      </PostsProvider>\n    </UserProvider>\n  </Router>,\n  document.getElementById('root')\n);\n","import React from 'react';\nimport { Switch, Route, Link } from 'react-router-dom';\n\nimport Posts from './Posts';\nimport Auth from './Auth';\nimport UserProfile from './UserProfile';\nimport PostPage from './PostPage';\n\nexport default function Application() {\n  return (\n    <main className=\"Application\">\n      <Link to=\"/\">\n        <h1>Think Piece</h1>\n      </Link>\n      <Auth />\n      <Switch>\n        <Route exact path=\"/\" component={Posts}></Route>\n        <Route exact path=\"/profile\" component={UserProfile}></Route>\n        <Route exact path=\"/posts/:id\" component={PostPage}></Route>\n      </Switch>\n    </main>\n  );\n}\n"],"sourceRoot":""}